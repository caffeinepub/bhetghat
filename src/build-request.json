{
  "kind": "build_request",
  "title": "Fix blank white page by correcting production entry loading and restoring valid PWA icon assets",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-30",
      "text": "Fix the production startup path so the deployed app never attempts to import the dev-only entry `/src/main.tsx` in production, and the React app reliably mounts (renders Welcome or authenticated UI) when opening the live URL `https://bhetghat-fus.caffeine.xyz/#caffeineAdminToken=b8def835a51005b977429f18e2f7840712f07bbe076b0db3d78b04cc1724815e`.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-8",
          "msg-10",
          "msg-12"
        ],
        "quotes": [
          "I can see only complete white blank page. the browser url is \"https://bhetghat-fus.caffeine.xyz/#caffeineAdminToken=b8def835a51005b977429f18e2f7840712f07bbe076b0db3d78b04cc1724815e\""
        ]
      },
      "acceptanceCriteria": [
        "In production builds, the site does not request `/src/main.tsx` (verified in browser Network tab).",
        "Opening `https://bhetghat-fus.caffeine.xyz/#caffeineAdminToken=b8def835a51005b977429f18e2f7840712f07bbe076b0db3d78b04cc1724815e` renders the app UI instead of a blank white page.",
        "If the JS bundle fails to load for any reason, a visible error screen is rendered into `#root` (no silent blank page)."
      ]
    },
    {
      "id": "REQ-31",
      "text": "Resolve the manifest icon download/validation error by ensuring all icon files referenced by `frontend/public/manifest.webmanifest` and `frontend/index.html` exist under `frontend/public/assets/generated/` and are valid PNG images served with a successful HTTP response.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-12"
        ],
        "quotes": [
          "Error while trying to use the following icon from the Manifest: https://bhetghat-fus.caffeine.xyz/assets/generated/pwa-icon.dim_192x192.png (Download error or resource isn't a valid image)"
        ]
      },
      "acceptanceCriteria": [
        "Requesting `/assets/generated/pwa-icon.dim_192x192.png`, `/assets/generated/pwa-icon.dim_512x512.png`, and `/assets/generated/pwa-icon-maskable.dim_512x512.png` returns HTTP 200 and valid PNG content.",
        "Requesting `/assets/generated/favicon.dim_48x48.png` and `/assets/generated/apple-touch-icon.dim_180x180.png` returns HTTP 200 and valid PNG content.",
        "Chrome Application tab shows the manifest loads without icon errors/warnings related to invalid images."
      ]
    },
    {
      "id": "REQ-32",
      "text": "Update PWA meta tags in `frontend/index.html` to address the deprecation warning by including `<meta name=\"mobile-web-app-capable\" content=\"yes\">` (while keeping existing Apple tags as needed).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-12"
        ],
        "quotes": [
          "<meta name=\"apple-mobile-web-app-capable\" content=\"yes\"> is deprecated. Please include <meta name=\"mobile-web-app-capable\" content=\"yes\">"
        ]
      },
      "acceptanceCriteria": [
        "The console no longer reports the deprecation warning about `apple-mobile-web-app-capable` missing `mobile-web-app-capable` (or the warning is reduced to non-actionable informational messages only).",
        "The app continues to load and function normally after the meta tag change."
      ]
    }
  ],
  "constraints": [
    "Frontend files in `frontend/src/components/ui`, `frontend/src/hooks/useInternetIdentity.ts`, `frontend/src/hooks/useInternetIdentity.tsx`, `frontend/src/hooks/useActor.ts`, and `frontend/src/main.tsx` are immutable and must not be edited.",
    "Backend must remain a single Motoko actor in `backend/main.mo`; only add `backend/migration.mo` if a state migration is strictly required.",
    "Use English for any user-facing text added or modified as part of these fixes."
  ],
  "nonGoals": [
    "Do not re-enable service worker caching behavior as part of this fix (keep temporary SW-disable approach unless explicitly requested later).",
    "Do not add new product features (matching logic, chat enhancements, ads changes) beyond what is necessary to fix the blank page and PWA asset issues.",
    "Do not add any third-party services or external hosting for assets."
  ],
  "imageRequirements": {
    "required": [
      "Flat, modern app icon with a heart + chat bubble motif on a warm pink/rose background (pwa-icon.dim_192x192.png, 192x192)",
      "Flat, modern app icon with a heart + chat bubble motif on a warm pink/rose background (pwa-icon.dim_512x512.png, 512x512)",
      "Flat, modern maskable app icon with centered heart + chat bubble motif and safe padding (pwa-icon-maskable.dim_512x512.png, 512x512)",
      "Simple flat favicon icon mark using the same motif (favicon.dim_48x48.png, 48x48)",
      "Simple flat icon mark using the same motif (apple-touch-icon.dim_180x180.png, 180x180)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}